---
title: 巴克莱银行：主机系统到NoSQL ODS的演变
date: 2016-11-21 13:23:32
tags: CSDN迁移
---
 版权声明：本文为博主原创文章，未经博主允许不得转载。 https://blog.csdn.net/mengyidan/article/details/80126931   
  **主机系统造成网银和移动银行单点故障**

Barclays正在把它的客户数据迁移到一个更灵活、更具弹性的NoSQL数据平台上，以减少对日益老化的主机系统的依赖。

和许多大型银行一样，Barclays在使用传统架构实现新型电子银行业务的客户需求方面遇到了非常大的挑战。由于这些故障已经影响到了客户，这个问题在过去就已经引起了管理人员的极大关注。延伸阅读：[金融市场行为监管机构评估银行的传统IT系统故故障（续）](%E5%BB%B6%E4%BC%B8%E9%98%85%E8%AF%BB%EF%BC%9A%E9%87%91%E8%9E%8D%E5%B8%82%E5%9C%BA%E8%A1%8C%E4%B8%BA%E7%9B%91%E7%AE%A1%E6%9C%BA%E6%9E%84%E8%AF%84%E4%BC%B0%E9%93%B6%E8%A1%8C%E7%9A%84%E4%BC%A0%E7%BB%9FIT%E7%B3%BB%E7%BB%9F%E6%95%85%E6%95%85%E9%9A%9C%EF%BC%88%E7%BB%AD%EF%BC%89)。



![图片描述](https://img-blog.csdn.net/20161121132414960)  


去年，由于主机（mainframe）故障，银行经历了两次服务中断，使得[客户无法进行支付](http://www.bbc.com/news/business-34631555)。

为了防止这种情况再次发生，银行调研了当主机系统无法使用时，如何能读取客户数据的方案。由此构建了一个基于MongoDB NoSQL数据库软件的操作型数据仓库（ODS），这个系统部署在服务（例如在线或移动银行业务）和主机系统之间。

Barclays的员工发现：绝大部分客户服务需求集中在访问“只读”数据，例如账户余额。

“这带来了一个非常有趣的问题：如果大多数客户只是在读数据，是否可能维护一个主机数据的快照作为一个“只读”副本。这个副本可以在主机发生故障时继续提供服务给各渠道？”

“因此，与其停止所有服务并且阻止客户进行任何操作，为什么不可以允许客户查询余额或者交易历史呢？- 毕竟这才是他们在大多数时候做的事情。”

“这就是我们开始使用操作型数据仓库（ODS）的起因。” 

操作型数据仓库平台在今年年初的时候已经上线，并且已经在银行内部以多种方式进行使用。

“其中最大的一个应用是交易历史。” Chandrasekaran这样介绍。

在过去，从主机系统读取大量数据时很困难的，所有对主机的交易数据访问被限制在一次300条。 这样的限制不仅仅对个人客户访问多有不便，针对那些可能会在相对比较短的时间内产生成百上千交易的小公司，更是个非常严重的问题。

“你只可以看到全部【交易】数据的一部分，因为我们存储和支撑不了那么多数据，”他说，“这只是一个容量问题，因此，我们使用MongoDB 操作型数据仓库（ODS）的第一个用户案例是：存储所有的交易历史数据并且将数据提供给【在线和移动】渠道。”

“将操作型数据仓库（ODS）作为一个缓存平台，我们可以立刻检索出大量交易。”   
 “ODS能与主机完成近似的实时同步。”他说。

“如果你登录后你说‘我想查看过去两年半内并且包含关键词ATM的交易历史’，最低的响应时间可以达到600毫秒。这是目前我们线上的一个真实用户案例。”

**减少对主机的依赖**

Chandrasekaran表示银行正在快速扩大操作型数据仓库（ODS）平台。这就意味着它成为了客户数据的“第一调用端口“，而不是和其最初的设计目的一样，只是作为主机系统的备份。

他提供的一个案例是：为在线和移动银行的“登录页面”提供数据。这是银行必须执行的、最集中的数据流程之一：立即查询个人账号、余额以及抵押贷款数据库，在每次用户登录到系统获取电子银行服务时都会执行。

”对于一个使用最频繁的查询，每天都要访问主机5百万次。”他说。

Barclays计划在操作型数据仓库（ODS）平台中存储客户数据，能够保证单一个客户到达登陆页面时能够进行近似实时的检索。”通过使用MongoDB，只需要一个简单的查询就可以让这个流程运行更快、更简单并且成本更低。”

这就意味着：我们已经从提供主机备份的原始目的中走出，还能够利用NoSQL技术的优势。

他说：“我们从一个弹性的用户案例开始启动，目前也在进行主机负载分担的用户案例。目前项目正在进行中，我们希望能够在明年的第二季度上线。”

**个性化及开放数据**

接下来，Barclays计划拓宽操作型数据仓库（ODS）平台的使用场景，因为它希望能够为在线客户服务中提供更多的个性化。

”当前的一个趋势就是：不再简单地推送同一种服务给所有客户。Chandrasekaran说。当你登录到我们的【在线或移动】渠道时，提供给你的是基于你之前的行为进行了个性化特别定制的主页，目前我们希望使用操作型数据仓库（ODS）这个工具来实现。”

此外，随着PSD2（支付系统指令）的不断发展，NoSQL平台将会帮助开发银行的数据来获取新的商业机会。

一个潜在的领域就是能够允许客户通过第三方网站（例如，Facebook）来查看他们的账户余额。

”你完全可以想象的是，你不再需要登录到Barclays或者Santander或者其它任何银行，你只需要访问Facebook然后说’告诉我 我的余额’，”他说，“Facebook就会到所有这些银行，把数据带回来然后展示给你。”你说你需要购买这个非常酷的小玩意，Facebook将会告诉你在Barclays上有非常好的优惠，所以你可以使用你的Barclays卡进行支付。

他补充说：“这意味着，我们需要能够灵活地拓展。因此，PDS2是我们在操作型数据仓库（ODS）上正在进行的关键项目之一。”

【注：巴克莱银行(Barclays Bank)，全球规模最大的银行及金融机构之一，总部设于英国伦敦。】

**相关推荐：**


  * [一库打尽MongoDB所有知识点](http://lib.csdn.net/base/mongodb) 
> 原文：[Barclays reduces reliance on ageing mainframes with NoSQL data platform](http://www.computerworlduk.com/data/barclays-reduces-reliance-on-ageing-mainframes-with-mongodb-nosql-platform-3649253/)   
>  作者：Matthew Finnegan 翻译：唐建法/TJ（MongoDB大中华区团队已经为国内大型客户成功实现过ODS/Data as a Service数据平台。 如果您有兴趣，请联系译者微信：tjtang826）
> 
>  
   
  